# ---------------------------------------------------------------------------
# F1Pulse â€” Environment Variables
# Copy to .env and fill in real values.
# ---------------------------------------------------------------------------

NODE_ENV=development
PORT=3000

# ---- Database (PostgreSQL) ------------------------------------------------
# Option A: connection string (Railway, Render, DigitalOcean managed DB)
DATABASE_URL=postgresql://user:password@host:5432/f1pulse

# Option B: individual params (docker-compose local dev)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=f1pulse
# DB_USER=postgres
# DB_PASSWORD=postgres

# ---- Redis (job queues) ---------------------------------------------------
REDIS_URL=redis://localhost:6379

# ---- Firebase Cloud Messaging ---------------------------------------------
# Path to the service-account JSON key file downloaded from Firebase console.
# In production, mount as a Docker secret or set FIREBASE_CREDENTIAL_JSON as
# a base64-encoded string and decode at startup.
FIREBASE_CREDENTIAL_PATH=./firebase-service-account.json

# ---- JWT ------------------------------------------------------------------
# IMPORTANT: change this to a long random string in production.
JWT_ACCESS_SECRET=CHANGE-ME-use-openssl-rand-base64-48
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_MS=604800000

# ---- RSS Feed Ingestion ---------------------------------------------------
RSS_CRON_SCHEDULE=*/1 * * * *

# Default F1 RSS feed URLs (hardcoded in src/services/rssIngestion.js):
#   - https://www.formula1.com/content/fom-website/en/latest/all.xml
#   - https://www.fia.com/rss/news
#   - https://www.autosport.com/rss/feed/f1
#   - https://www.motorsport.com/rss/f1/news/
#   - https://www.racefans.net/feed/
#   - https://www.planetf1.com/feed/
#   - https://the-race.com/feed/
#   - https://www.gpfans.com/en/rss.xml
# To disable a feed, set its "enabled" flag to false in rssIngestion.js.

# ---- Rate Limiting --------------------------------------------------------
# Max requests per window for public API endpoints
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ---- Alert Rate Limits ----------------------------------------------------
# Max push notifications per user per hour (bypassed during race weekends)
ALERT_RATE_LIMIT_PER_HOUR=10

# ---- CORS -----------------------------------------------------------------
# Comma-separated list of allowed origins (mobile app, admin dashboard).
# Leave empty to allow all origins in development.
CORS_ALLOWED_ORIGINS=

# ---- Admin Dashboard (Basic Auth) -----------------------------------------
ADMIN_USER=admin
ADMIN_PASSWORD=changeme
